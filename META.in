version = "%version%"
description = "Eliom-lang"

package "runtime" (
 version = "0.1.0"
 package "server" (
  version = "0.1.0"
  description = "Eliom-lang"
  requires = "re"
  archive(byte) = "eliom_runtime_server.cma"
  archive(byte, plugin) = "eliom_runtime_server.cma"
  archive(native) = "eliom_runtime_server.cmxa"
  archive(native, plugin) = "eliom_runtime_server.cmxs"
  exists_if = "eliom_runtime_server.cma"
 )

 package "lwt" (
  version = "0.1.0"
  description = "Eliom-lang"
  requires = "eliom_lang.runtime.server lwt"
  archive(byte) = "eliom_runtime_lwt.cma"
  archive(byte, plugin) = "eliom_runtime_lwt.cma"
  archive(native) = "eliom_runtime_lwt.cmxa"
  archive(native, plugin) = "eliom_runtime_lwt.cmxs"
  exists_if = "eliom_runtime_lwt.cma"
 )

 package "client" (
  version = "0.1.0"
  description = "Eliom-lang"
  requires = "js_of_ocaml js_of_ocaml.ppx"
  archive(byte) = "eliom_runtime_client.cma"
  archive(byte, plugin) = "eliom_runtime_client.cma"
  exists_if = "eliom_runtime_client.cma"
 )
)